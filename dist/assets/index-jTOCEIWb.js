const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BGbbhWKk.js","assets/index-Pse19Vbq.js","assets/index-DaP79Pgd.css","assets/index-DUfGd8_f.css"])))=>i.map(i=>d[i]);
import{f as x,h as N,k as z,l as D,n as V,o as q,p as U,q as T,r as G,s as K,t as S,v as W,w as H,x as J,y as A,z as Q,A as X,B as Y,u as Z,j as l,S as $,m as k,_ as E}from"./index-Pse19Vbq.js";import{c as ee}from"./index-IzV_IAPD.js";import{g as P}from"./index-DYwsX7lf.js";import{s as ne,o as te,i as ie,a as se,b as oe}from"./isPlainObject-C386A5IQ.js";function L(e,n){return ne(te(e,n,ie),e+"")}function ae(e,n,t){if(!x(t))return!1;var a=typeof n;return(a=="number"?N(t)&&z(n,t.length):a=="string"&&n in t)?D(t[n],e):!1}function re(e){return L(function(n,t){var a=-1,r=t.length,s=r>1?t[r-1]:void 0,f=r>2?t[2]:void 0;for(s=e.length>3&&typeof s=="function"?(r--,s):void 0,f&&ae(t[0],t[1],f)&&(s=r<3?void 0:s,r=1),n=Object(n);++a<r;){var i=t[a];i&&e(n,i,a,s)}return n})}function fe(e){return function(n,t,a){for(var r=-1,s=Object(n),f=a(n),i=f.length;i--;){var o=f[++r];if(t(s[o],o,s)===!1)break}return n}}var de=fe();function v(e,n,t){(t!==void 0&&!D(e[n],t)||t===void 0&&!(n in e))&&V(e,n,t)}function le(e){return q(e)&&N(e)}function F(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function ue(e){return U(e,T(e))}function pe(e,n,t,a,r,s,f){var i=F(e,t),o=F(n,t),p=f.get(o);if(p){v(e,t,p);return}var d=s?s(i,o,t+"",e,n,f):void 0,u=d===void 0;if(u){var h=S(o),w=!h&&G(o),y=!h&&!w&&K(o);d=o,h||w||y?S(i)?d=i:le(i)?d=W(i):w?(u=!1,d=H(o,!0)):y?(u=!1,d=J(o,!0)):d=[]:se(o)||A(o)?(d=i,A(i)?d=ue(i):(!x(i)||Q(i))&&(d=X(o))):u=!1}u&&(f.set(o,d),r(d,o,a,s,f),f.delete(o)),v(e,t,d)}function b(e,n,t,a,r){e!==n&&de(n,function(s,f){if(r||(r=new Y),x(s))pe(e,n,f,t,b,a,r);else{var i=a?a(F(e,f),s,f+"",e,n,r):void 0;i===void 0&&(i=s),v(e,f,i)}},T)}function M(e,n,t,a,r,s){return x(e)&&x(n)&&(s.set(n,e),b(e,n,void 0,M,s),s.delete(n)),e}var ce=re(function(e,n,t,a){b(e,n,t,a)}),ge=L(function(e){return e.push(void 0,M),oe(ce,void 0,e)});const me="_widget_17onu_8",he="_text_17onu_21",we="_ml5_17onu_27",m={"attr-box":"_attr-box_17onu_2",widget:me,text:he,ml5:we},xe=window.React.Suspense,ye=window.React.lazy,_e=window.React.memo,Ce=window.React.useEffect,R=window.React.useState,ve=window.antd.ConfigProvider,I=window.antd.Form,Fe=window.antd.Tabs,be=window.ahooks.useDebounceFn,Oe=window.icons.CheckOutlined,Se=window.icons.CopyOutlined,Ae=ye(()=>E(()=>import("./index-BGbbhWKk.js"),__vite__mapDeps([0,1,2,3]))),De=_e(()=>{const{selectedElement:e,savePageInfo:n,editElement:t,page:a}=Z(c=>c),r=a.config.props,{pageName:s,elementsMap:f}=a,[i]=I.useForm(),[o,p]=R(null),[d,u]=R(!1);Ce(()=>{var c;if(i.resetFields(),e){const _=((c=f[e.id])==null?void 0:c.remoteConfigUrl)||"";_?import(_).then((g={})=>{var C;p(g.default),i.setFieldsValue(((C=g.default)==null?void 0:C.config.props)||{})}):P(e.type+"Config").then(g=>{var O;const C=g.default;p(C),i.setFieldsValue((O=f[e.id])==null?void 0:O.config.props)}),i.setFieldValue("id",e.id)}else P("PageConfig").then(_=>{const g=_.default;p(g),i.setFieldsValue({pageName:s,...ge({...r},g.config.props)})});return()=>{p(null),i.resetFields()}},[e==null?void 0:e.id,s]);const h=c=>{e!=null&&e.id?t({id:e.id,type:"props",props:c}):n({type:"props",props:c})},{run:w}=be(()=>{h(i.getFieldsValue())},{wait:300}),y=()=>{ee((e==null?void 0:e.id)||s),k.info("复制成功"),u(!0),setTimeout(()=>{u(!1)},3e3)},j={labelCol:{span:8},wrapperCol:{span:15}},B=[{label:"属性",key:"props",children:l.jsxs(I,{form:i,style:{paddingBottom:20},...j,layout:"horizontal",labelAlign:"right",onValuesChange:w,children:[l.jsxs("div",{className:m.widget,children:[e!=null&&e.id?l.jsxs("span",{className:m.text,children:["组件ID：",e==null?void 0:e.id]}):l.jsxs("span",{className:m.text,children:["页面：",s]}),d?l.jsx(Oe,{className:m.ml5}):l.jsx(Se,{onClick:y,className:m.ml5})]}),l.jsx(xe,{fallback:l.jsx($,{}),children:l.jsx(Ae,{attrs:(o==null?void 0:o.attrs)||[],form:i})})]})},{key:"style",label:"样式",children:l.jsx("div",{children:"样式"})},{key:"event",label:"事件",children:l.jsx("div",{children:"事件"})},{key:"api",label:"数据",children:l.jsx("div",{children:"数据"})}];return l.jsx(ve,{theme:{token:{fontSize:12},components:{Tabs:{titleFontSize:14},Form:{itemMarginBottom:15},InputNumber:{paddingInline:8}}},children:l.jsx(Fe,{className:m["attr-box"],centered:!0,defaultActiveKey:"props",items:B})})});export{De as default};

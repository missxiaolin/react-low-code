const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-kV2SCOCU.js","assets/index-C6R2FIrg.js","assets/index-DaP79Pgd.css","assets/Ipx-CdoMwzNL.js","assets/VariableBind-IxQkgJEJ.js","assets/VsEditor-_GCfIG6j.js","assets/util-CaPtpbjW.js","assets/index-CYu5uZR4.js","assets/VariableBind-Dg6TwnM3.css","assets/index-CoYHkXS6.css","assets/index-lA_i4-sh.js","assets/index-DCxVE6HF.css","assets/index-97k8tVhl.js","assets/index-dzodQa4d.css","assets/index-BRwLmZvU.js","assets/index-DVANvouV.css"])))=>i.map(i=>d[i]);
import{f as x,h as N,k as q,l as M,n as U,o as G,p as K,q as V,r as W,s as H,t as j,v as J,w as Q,x as X,y as I,z as Y,A as Z,B as $,u as ee,j as r,S as v,m as ne,_ as F}from"./index-C6R2FIrg.js";import{c as te}from"./index-CYu5uZR4.js";import{g as D}from"./index-BL5g9lPi.js";import{s as ie,o as se,i as ae,a as oe,b as re}from"./isPlainObject-BvWo_M3d.js";function k(e,n){return ie(se(e,n,ae),e+"")}function fe(e,n,t){if(!x(t))return!1;var o=typeof n;return(o=="number"?N(t)&&q(n,t.length):o=="string"&&n in t)?M(t[n],e):!1}function le(e){return k(function(n,t){var o=-1,f=t.length,s=f>1?t[f-1]:void 0,l=f>2?t[2]:void 0;for(s=e.length>3&&typeof s=="function"?(f--,s):void 0,l&&fe(t[0],t[1],l)&&(s=f<3?void 0:s,f=1),n=Object(n);++o<f;){var i=t[o];i&&e(n,i,o,s)}return n})}function de(e){return function(n,t,o){for(var f=-1,s=Object(n),l=o(n),i=l.length;i--;){var a=l[++f];if(t(s[a],a,s)===!1)break}return n}}var ue=de();function A(e,n,t){(t!==void 0&&!M(e[n],t)||t===void 0&&!(n in e))&&U(e,n,t)}function pe(e){return G(e)&&N(e)}function P(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function ce(e){return K(e,V(e))}function ge(e,n,t,o,f,s,l){var i=P(e,t),a=P(n,t),p=l.get(a);if(p){A(e,t,p);return}var d=s?s(i,a,t+"",e,n,l):void 0,u=d===void 0;if(u){var _=j(a),h=!_&&W(a),w=!_&&!h&&H(a);d=a,_||h||w?j(i)?d=i:pe(i)?d=J(i):h?(u=!1,d=Q(a,!0)):w?(u=!1,d=X(a,!0)):d=[]:oe(a)||I(a)?(d=i,I(i)?d=ce(i):(!x(i)||Y(i))&&(d=Z(a))):u=!1}u&&(l.set(a,d),f(d,a,o,s,l),l.delete(a)),A(e,t,d)}function R(e,n,t,o,f){e!==n&&ue(n,function(s,l){if(f||(f=new $),x(s))ge(e,n,l,t,R,o,f);else{var i=o?o(P(e,l),s,l+"",e,n,f):void 0;i===void 0&&(i=s),A(e,l,i)}},V)}function B(e,n,t,o,f,s){return x(e)&&x(n)&&(s.set(n,e),R(e,n,void 0,B,s),s.delete(n)),e}var me=le(function(e,n,t,o){R(e,n,t,o)}),_e=k(function(e){return e.push(void 0,B),re(me,void 0,e)});const he="_widget_f9ka0_8",xe="_text_f9ka0_21",we="_ml5_f9ka0_27",m={"attr-box":"_attr-box_f9ka0_2",widget:he,text:xe,ml5:we},b=window.React.Suspense,O=window.React.lazy,ye=window.React.memo,Ce=window.React.useEffect,T=window.React.useState,ve=window.antd.ConfigProvider,L=window.antd.Form,be=window.antd.Tabs,Fe=window.ahooks.useDebounceFn,Oe=window.icons.CheckOutlined,Ae=window.icons.CopyOutlined,Pe=O(()=>F(()=>import("./index-kV2SCOCU.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),Re=O(()=>F(()=>import("./index-lA_i4-sh.js"),__vite__mapDeps([10,1,2,3,5,6,7,11]))),Se=O(()=>F(()=>import("./index-97k8tVhl.js"),__vite__mapDeps([12,1,2,4,5,6,7,8,13]))),je=O(()=>F(()=>import("./index-BRwLmZvU.js"),__vite__mapDeps([14,1,2,4,5,6,7,8,15]))),Ne=ye(()=>{const{selectedElement:e,savePageInfo:n,editElement:t,page:o}=ee(c=>c),f=o.config.props,{pageName:s,elementsMap:l}=o,[i]=L.useForm(),[a,p]=T(null),[d,u]=T(!1);Ce(()=>{var c;if(i.resetFields(),e){const y=((c=l[e.id])==null?void 0:c.remoteConfigUrl)||"";y?import(y).then((g={})=>{var C;p(g.default),i.setFieldsValue(((C=g.default)==null?void 0:C.config.props)||{})}):D(e.type+"Config").then(g=>{var S;const C=g.default;p(C),i.setFieldsValue((S=l[e.id])==null?void 0:S.config.props)}),i.setFieldValue("id",e.id)}else D("PageConfig").then(y=>{const g=y.default;p(g),i.setFieldsValue({pageName:s,..._e({...f},g.config.props)})});return()=>{p(null),i.resetFields()}},[e==null?void 0:e.id,s]);const _=c=>{e!=null&&e.id?t({id:e.id,type:"props",props:c}):n({type:"props",props:c})},{run:h}=Fe(()=>{_(i.getFieldsValue())},{wait:300}),w=()=>{te((e==null?void 0:e.id)||s),ne.info("复制成功"),u(!0),setTimeout(()=>{u(!1)},3e3)},E={labelCol:{span:8},wrapperCol:{span:15}},z=[{label:"属性",key:"props",children:r.jsxs(L,{form:i,style:{paddingBottom:20},...E,layout:"horizontal",labelAlign:"right",onValuesChange:h,children:[r.jsxs("div",{className:m.widget,children:[e!=null&&e.id?r.jsxs("span",{className:m.text,children:["组件ID：",e==null?void 0:e.id]}):r.jsxs("span",{className:m.text,children:["页面：",s]}),d?r.jsx(Oe,{className:m.ml5}):r.jsx(Ae,{onClick:w,className:m.ml5})]}),r.jsx(b,{fallback:r.jsx(v,{}),children:r.jsx(Pe,{attrs:(a==null?void 0:a.attrs)||[],form:i})})]})},{key:"style",label:"样式",children:r.jsx(b,{fallback:r.jsx(v,{}),children:r.jsx(Re,{})})},{key:"event",label:"事件",children:r.jsx(b,{fallback:r.jsx(v,{}),children:r.jsx(Se,{})})},{key:"api",label:"数据",children:r.jsx(b,{fallback:r.jsx(v,{}),children:r.jsx(je,{})})}];return r.jsx(ve,{theme:{token:{fontSize:12},components:{Tabs:{titleFontSize:14},Form:{itemMarginBottom:15},InputNumber:{paddingInline:8}}},children:r.jsx(be,{className:m["attr-box"],centered:!0,defaultActiveKey:"props",items:z})})});export{Ne as default};

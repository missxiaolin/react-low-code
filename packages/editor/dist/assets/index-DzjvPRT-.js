const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-hdWMiMcn.js","assets/index-C6gCOyc8.js","assets/index-DaP79Pgd.css","assets/Ipx--DE24qto.js","assets/VariableBind-CQxPRG0J.js","assets/VsEditor-B4xNcyWW.js","assets/util-DbzPXzsH.js","assets/index-nqUxwmlN.js","assets/VariableBind-DatBU64N.css","assets/index-DUfGd8_f.css","assets/index-TLbPMv5D.js","assets/index-DCxVE6HF.css","assets/index-CLdDIOng.js","assets/index-SdAlpDHN.js","assets/index-D8G_5f41.css"])))=>i.map(i=>d[i]);
import{f as x,h as N,k as U,l as M,n as G,o as K,p as W,q as V,r as k,s as H,t as j,v as J,w as Q,x as X,y as I,z as Y,A as Z,B as $,u as ee,j as r,S as v,m as ne,_ as F}from"./index-C6gCOyc8.js";import{c as te}from"./index-nqUxwmlN.js";import{g as D}from"./index-cWhJgESc.js";import{s as ie,o as se,i as oe,a as ae,b as re}from"./isPlainObject-C-D075wI.js";function B(e,n){return ie(se(e,n,oe),e+"")}function fe(e,n,t){if(!x(t))return!1;var a=typeof n;return(a=="number"?N(t)&&U(n,t.length):a=="string"&&n in t)?M(t[n],e):!1}function le(e){return B(function(n,t){var a=-1,f=t.length,s=f>1?t[f-1]:void 0,l=f>2?t[2]:void 0;for(s=e.length>3&&typeof s=="function"?(f--,s):void 0,l&&fe(t[0],t[1],l)&&(s=f<3?void 0:s,f=1),n=Object(n);++a<f;){var i=t[a];i&&e(n,i,a,s)}return n})}function de(e){return function(n,t,a){for(var f=-1,s=Object(n),l=a(n),i=l.length;i--;){var o=l[++f];if(t(s[o],o,s)===!1)break}return n}}var ue=de();function A(e,n,t){(t!==void 0&&!M(e[n],t)||t===void 0&&!(n in e))&&G(e,n,t)}function pe(e){return K(e)&&N(e)}function P(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}function ce(e){return W(e,V(e))}function ge(e,n,t,a,f,s,l){var i=P(e,t),o=P(n,t),p=l.get(o);if(p){A(e,t,p);return}var d=s?s(i,o,t+"",e,n,l):void 0,u=d===void 0;if(u){var _=j(o),h=!_&&k(o),w=!_&&!h&&H(o);d=o,_||h||w?j(i)?d=i:pe(i)?d=J(i):h?(u=!1,d=Q(o,!0)):w?(u=!1,d=X(o,!0)):d=[]:ae(o)||I(o)?(d=i,I(i)?d=ce(i):(!x(i)||Y(i))&&(d=Z(o))):u=!1}u&&(l.set(o,d),f(d,o,a,s,l),l.delete(o)),A(e,t,d)}function R(e,n,t,a,f){e!==n&&ue(n,function(s,l){if(f||(f=new $),x(s))ge(e,n,l,t,R,a,f);else{var i=a?a(P(e,l),s,l+"",e,n,f):void 0;i===void 0&&(i=s),A(e,l,i)}},V)}function E(e,n,t,a,f,s){return x(e)&&x(n)&&(s.set(n,e),R(e,n,void 0,E,s),s.delete(n)),e}var me=le(function(e,n,t,a){R(e,n,t,a)}),_e=B(function(e){return e.push(void 0,E),re(me,void 0,e)});const he="_widget_17onu_8",xe="_text_17onu_21",we="_ml5_17onu_27",m={"attr-box":"_attr-box_17onu_2",widget:he,text:xe,ml5:we},b=window.React.Suspense,O=window.React.lazy,ye=window.React.memo,Ce=window.React.useEffect,T=window.React.useState,ve=window.antd.ConfigProvider,L=window.antd.Form,be=window.antd.Tabs,Fe=window.ahooks.useDebounceFn,Oe=window.icons.CheckOutlined,Ae=window.icons.CopyOutlined,Pe=O(()=>F(()=>import("./index-hdWMiMcn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),Re=O(()=>F(()=>import("./index-TLbPMv5D.js"),__vite__mapDeps([10,1,2,3,5,6,7,11]))),Se=O(()=>F(()=>import("./index-CLdDIOng.js"),__vite__mapDeps([12,1,2]))),je=O(()=>F(()=>import("./index-SdAlpDHN.js"),__vite__mapDeps([13,1,2,4,5,6,7,8,14]))),Ne=ye(()=>{const{selectedElement:e,savePageInfo:n,editElement:t,page:a}=ee(c=>c),f=a.config.props,{pageName:s,elementsMap:l}=a,[i]=L.useForm(),[o,p]=T(null),[d,u]=T(!1);Ce(()=>{var c;if(i.resetFields(),e){const y=((c=l[e.id])==null?void 0:c.remoteConfigUrl)||"";y?import(y).then((g={})=>{var C;p(g.default),i.setFieldsValue(((C=g.default)==null?void 0:C.config.props)||{})}):D(e.type+"Config").then(g=>{var S;const C=g.default;p(C),i.setFieldsValue((S=l[e.id])==null?void 0:S.config.props)}),i.setFieldValue("id",e.id)}else D("PageConfig").then(y=>{const g=y.default;p(g),i.setFieldsValue({pageName:s,..._e({...f},g.config.props)})});return()=>{p(null),i.resetFields()}},[e==null?void 0:e.id,s]);const _=c=>{e!=null&&e.id?t({id:e.id,type:"props",props:c}):n({type:"props",props:c})},{run:h}=Fe(()=>{_(i.getFieldsValue())},{wait:300}),w=()=>{te((e==null?void 0:e.id)||s),ne.info("复制成功"),u(!0),setTimeout(()=>{u(!1)},3e3)},z={labelCol:{span:8},wrapperCol:{span:15}},q=[{label:"属性",key:"props",children:r.jsxs(L,{form:i,style:{paddingBottom:20},...z,layout:"horizontal",labelAlign:"right",onValuesChange:h,children:[r.jsxs("div",{className:m.widget,children:[e!=null&&e.id?r.jsxs("span",{className:m.text,children:["组件ID：",e==null?void 0:e.id]}):r.jsxs("span",{className:m.text,children:["页面：",s]}),d?r.jsx(Oe,{className:m.ml5}):r.jsx(Ae,{onClick:w,className:m.ml5})]}),r.jsx(b,{fallback:r.jsx(v,{}),children:r.jsx(Pe,{attrs:(o==null?void 0:o.attrs)||[],form:i})})]})},{key:"style",label:"样式",children:r.jsx(b,{fallback:r.jsx(v,{}),children:r.jsx(Re,{})})},{key:"event",label:"事件",children:r.jsx(b,{fallback:r.jsx(v,{}),children:r.jsx(Se,{})})},{key:"api",label:"数据",children:r.jsx(b,{fallback:r.jsx(v,{}),children:r.jsx(je,{})})}];return r.jsx(ve,{theme:{token:{fontSize:12},components:{Tabs:{titleFontSize:14},Form:{itemMarginBottom:15},InputNumber:{paddingInline:8}}},children:r.jsx(be,{className:m["attr-box"],centered:!0,defaultActiveKey:"props",items:q})})});export{Ne as default};

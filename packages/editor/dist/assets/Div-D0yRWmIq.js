import{u as v,j as o}from"./index-CISSGvlG.js";import{g as w}from"./index-CgCjVVL_.js";import{M as g}from"./Render-gw95VFM9.js";import{u as y}from"./useDrop-af58wVbP.js";import"./util-BKa5BsPH.js";import"./index-Be0loznV.js";import"./useComponentRefs-BjsmN1lJ.js";/* empty css              */import"./isPlainObject-CSjpclAY.js";import"./useDragDropManager-qvGdo0l9.js";const x=window.React.forwardRef,R=window.React.useImperativeHandle,D=window.React.useState,j=({id:r,type:n,config:s,elements:e},d)=>{const p=v(t=>t.addChildElements),[c,a]=D(!0),[,l]=y({accept:"MENU_ITEM",async drop(t,f){var i;if(f.didDrop())return;const{config:m,events:u,methods:h=[]}=((i=await w(t.type+"Config"))==null?void 0:i.default)||{};p({type:t.type,name:t.name,parentId:r,id:t.id,config:m,events:u,methods:h})},collect:t=>({isOver:t.isOver(),canDrop:t.canDrop()})});return R(d,()=>({show(){a(!0)},hide(){a(!1)}})),c&&o.jsx("div",{style:s.style,...s.props,"data-id":r,"data-type":n,ref:l,children:e!=null&&e.length?o.jsx(g,{elements:e||[]}):o.jsx("div",{className:"slots",style:{height:100,lineHeight:"100px"},children:"拖拽组件到这里"})})},T=x(j);export{T as default};

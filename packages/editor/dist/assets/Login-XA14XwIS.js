import{d as _,j as e}from"./index-C6R2FIrg.js";const N="_container_k6aex_1",v="_login_k6aex_9",k="_left_k6aex_19",C="_form_k6aex_27",I="_title_k6aex_31",t={container:N,login:v,left:k,form:C,title:I},u=window.antd.Button,m=window.antd.Flex,s=window.antd.Form,x=window.antd.Input,F=window.antd.InputNumber,b=window.icons.LockOutlined,T=window.icons.SafetyOutlined,O=window.icons.UserOutlined,L=window.React.useEffect,o=window.React.useState;function q(){const g=_(),[n,r]=o(0),[f,l]=o(!1),[p,c]=o(!1),[i,h]=o("login"),[a]=s.useForm(),j=()=>{h(i=="login"?"regist":"login"),a.setFieldsValue({userName:"",userPwd:""})},w=()=>{a.validateFields(["userName"]).then(async()=>{l(!0);try{r(60),l(!1)}catch{l(!1)}})},y=async d=>{c(!0),g("/"),c(!1)};return L(()=>{const d=setTimeout(()=>{n>0&&r(n-1)},1e3);return()=>clearTimeout(d)},[n]),e.jsx("div",{className:t.container,children:e.jsxs("div",{className:t.login,children:[e.jsx("div",{className:t.left,children:e.jsx("img",{src:"/imgs/login-bg.png"})}),e.jsxs("div",{className:t.form,children:[i==="login"?e.jsx("div",{className:t.title,children:e.jsx("span",{children:"登录"})}):e.jsx("div",{className:t.title,children:"邮箱注册"}),e.jsxs(s,{name:"basic",layout:"vertical",className:t.form,onFinish:y,size:"large",form:a,children:[e.jsx(s.Item,{name:"userName",rules:[{required:!0,message:"请输入邮箱"},{pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"请输入正确的邮箱"}],children:e.jsx(x,{prefix:e.jsx(O,{}),placeholder:"请输入个人邮箱",autoComplete:"off",allowClear:!0})}),i==="regist"&&e.jsx(s.Item,{children:e.jsxs(m,{gap:20,children:[e.jsx(s.Item,{name:"code",noStyle:!0,rules:[{required:!0,message:"请输入验证码"}],children:e.jsx(F,{prefix:e.jsx(T,{}),style:{width:"100%"},placeholder:"验证码"})}),e.jsx(u,{type:"primary",onClick:w,disabled:n>0,loading:f,children:n>0?n+"s":"获取验证码"})]})}),e.jsx(s.Item,{style:{marginTop:32},name:"userPwd",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(x.Password,{prefix:e.jsx(b,{}),autoComplete:"off",allowClear:!0,placeholder:"请输入密码"})}),e.jsx(s.Item,{style:{marginTop:40},children:e.jsx(u,{type:"primary",block:!0,htmlType:"submit",loading:p,children:i==="login"?"登录":"注册"})}),e.jsx(s.Item,{style:{marginTop:40},children:e.jsx(m,{justify:"center",gap:20,children:e.jsx("a",{onClick:j,children:i==="login"?"没有账号？去注册":"已有账号？去登录"})})})]})]})]})})}export{q as default};

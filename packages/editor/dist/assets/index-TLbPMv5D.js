import{j as e,u as _,R as P}from"./index-C6gCOyc8.js";import{I as p,M as V}from"./Ipx--DE24qto.js";import{V as W}from"./VsEditor-B4xNcyWW.js";import"./util-DbzPXzsH.js";import"./index-nqUxwmlN.js";const M=window.antd.Input,G=window.React.useEffect,X=window.React.useState,Y=n=>{const[d,s]=X("");G(()=>{var a;(a=n.value)!=null&&a.startsWith("url")&&s(n.value.replace("url(","").replace(")",""))},[]);const o=a=>{if(a===""){s(""),n.onChange("");return}a.startsWith("http")?(s(a),n.onChange(`url(${a})`)):(s(`${a}`),n.onChange(a))};return e.jsx(M,{value:d,onChange:a=>o(a.target.value),placeholder:"http://xxx.png"})},H=window.antd.Flex,q=window.antd.Select,J=window.React.memo,K=window.React.useEffect,k=window.React.useState,Q=n=>{const[d,s]=k("auto"),[o,a]=k(""),[u,h]=k(!1);K(()=>{n.value==="contain"||n.value==="cover"?(h(!1),a(""),s(n.value)):(h(!0),a(n.value),s("auto"))},[]);const c=r=>{r==="auto"?h(!0):(h(!1),a("")),s(r),n.onChange(r)},x=r=>{a(r),n.onChange(r)};return e.jsxs(H,{gap:3,children:[e.jsx(q,{placeholder:"请选择",value:d,onChange:c,options:[{label:"默认",value:"auto"},{label:"等比填充",value:"contain"},{label:"等比覆盖",value:"cover"}]}),u&&e.jsx(p,{value:o,placeholder:"大小",onChange:r=>x(r)})]})},U=J(Q),b=window.antd.Form,Z=window.antd.Input,I=window.antd.Select,v=window.antd.Radio,$=window.icons.CaretDownOutlined,ee=({form:n})=>e.jsxs(e.Fragment,{children:[e.jsx(b.Item,{name:["scopeStyle","display"],label:"布局模式",children:e.jsx(I,{options:[{label:"内联布局 inline",value:"inline"},{label:"块级布局 block",value:"block"},{label:"内联块布局 inline-block",value:"inline-block"},{label:"内联弹性布局 inline-flex",value:"inline-flex"},{label:"块级弹性布局 flex",value:"flex"},{label:"隐藏 none",value:"none"}],suffixIcon:e.jsx($,{})})}),["inline-flex","flex"].includes(n.getFieldValue(["scopeStyle","display"]))&&e.jsxs(e.Fragment,{children:[e.jsx(b.Item,{name:["scopeStyle","flexDirection"],label:"主轴方向",children:e.jsx(I,{options:[{label:"水平",value:"row"},{label:"垂直",value:"column"},{label:"水平反转",value:"row-reverse"},{label:"垂直反转",value:"column-reverse"}],suffixIcon:e.jsx($,{})})}),e.jsx(b.Item,{name:["scopeStyle","justifyContent"],label:"主轴对齐",children:e.jsx(I,{options:[{label:"起点对齐",value:"flex-start"},{label:"终点对齐",value:"flex-end"},{label:"居中对齐",value:"center"},{label:"两端对齐",value:"space-between"},{label:"环绕对齐",value:"space-around"},{label:"均匀对齐",value:"space-evenly"}],suffixIcon:e.jsx($,{})})}),e.jsx(b.Item,{name:["scopeStyle","alignItems"],label:"副轴对齐",children:e.jsx(I,{options:[{label:"起点对齐",value:"flex-start"},{label:"终点对齐",value:"flex-end"},{label:"居中对齐",value:"center"},{label:"文字基线对齐",value:"baseline"},{label:"拉伸对齐",value:"stretch"}],suffixIcon:e.jsx($,{})})}),e.jsx(b.Item,{name:["scopeStyle","flexWrap"],label:"换行方式",wrapperCol:{span:18},children:e.jsxs(v.Group,{buttonStyle:"solid",optionType:"button",children:[e.jsx(v,{value:"nowrap",children:"不换"}),e.jsx(v,{value:"wrap",children:"换行"}),e.jsx(v,{value:"wrap-reverse",children:"逆换行"})]})}),e.jsx(b.Item,{name:["scopeStyle","gap"],label:"间隙",children:e.jsx(Z,{placeholder:"eg: 10px"})})]})]}),le="_ui_1bd0j_5",te="_title_1bd0j_9",D={ui:le,title:te},m=n=>e.jsx("h2",{className:D.title,children:n.children}),z=window.antd.Flex,g=window.antd.Form,C=window.antd.InputNumber,F=window.antd.Radio,ne=window.React.useEffect,f=window.React.useState,se=n=>{const[d,s]=f("none"),[o,a]=f("#000"),[u,h]=f(0),[c,x]=f(0),[r,B]=f(0),[j,O]=f(0);ne(()=>{var i;if(n.value==="none")return;const l=(i=n.value)==null?void 0:i.replace(/px/g,"").split(" ");l&&l.length>0&&(a(l[0]||"#000"),h(l[1]||0),x(l[2]||0),B(l[3]||0),O(l[4]||0),s(l[5]||""))},[]);const N=l=>{s(l),l==="none"?n.onChange("none"):n.onChange(`${o} ${u}px ${c}px ${r}px ${j}px ${l}`)},L=l=>{a(l),n.onChange(`${l} ${u}px ${c}px ${r}px ${j}px ${d}`)},S=(l,i)=>{l==="x"?(i||(i=0),h(i),n.onChange(`${o} ${i}px ${c}px ${r}px ${j}px ${d}`)):l==="y"?(i||(i=0),x(i),n.onChange(`${o} ${u}px ${i}px ${r}px ${j}px ${d}`)):l==="blur"?(i||(i=0),B(i),n.onChange(`${o} ${u}px ${c}px ${i}px ${j}px ${d}`)):l==="spread"&&(i||(i=0),O(i),n.onChange(`${o} ${u}px ${c}px ${r}px ${i}px ${d}`))};return e.jsxs(e.Fragment,{children:[e.jsxs(F.Group,{buttonStyle:"solid",optionType:"button",value:d,onChange:l=>N(l.target.value),children:[e.jsx(F,{value:"none",children:"无"}),e.jsx(F,{value:"",children:"外阴影"}),e.jsx(F,{value:"Inset",children:"内阴影"})]}),d==="none"?null:e.jsxs(e.Fragment,{children:[e.jsx(g.Item,{label:"颜色",style:{marginBlock:10},children:e.jsx(V,{showText:!0,allowClear:!0,value:o,onChange:l=>L(l)})}),e.jsxs(z,{gap:10,children:[e.jsx(g.Item,{label:"X轴",children:e.jsx(C,{value:u,onChange:l=>S("x",l),style:{width:"100%"},controls:!1})}),e.jsx(g.Item,{label:"Y轴",children:e.jsx(C,{value:c,onChange:l=>S("y",l),style:{width:"100%"},controls:!1})})]}),e.jsxs(z,{gap:10,children:[e.jsx(g.Item,{label:"模糊",children:e.jsx(C,{value:r,onChange:l=>S("blur",l),style:{width:"100%"},controls:!1})}),e.jsx(g.Item,{label:"扩展",children:e.jsx(C,{value:j,onChange:l=>S("spread",l),style:{width:"100%"},controls:!1})})]})]})]})},ae=window.React.memo,oe=window.React.useEffect,ce=window.React.useState,w=window.antd.Select,t=window.antd.Form,E=window.antd.Input,ie=window.antd.Slider,R=window.antd.Radio,T=window.antd.Tooltip,A=window.antd.Flex,re=window.antd.InputNumber,de=window.ahooks.useDebounceFn,y=window.icons.CaretDownOutlined,xe=window.icons.AlignLeftOutlined,ue=window.icons.AlignCenterOutlined,pe=window.icons.AlignRightOutlined,he=()=>{const[n,d]=ce(!1),s=_(),[o]=t.useForm();oe(()=>{var c;if(o.resetFields(),!s.selectedElement)o.setFieldValue("scopeCss",s.page.config.scopeCss||`/* 请在此处添加样式*/
.marsview{

}`),o.setFieldValue("scopeStyle",s.page.config.scopeStyle);else{const x=((c=s.page.elementsMap[s.selectedElement.id])==null?void 0:c.config)||{};o.setFieldValue("scopeCss",x.scopeCss||`/* 请在此处添加样式*/
.marsview{

}`),o.setFieldValue("scopeStyle",x.scopeStyle||x.style),d(!n)}},[s.selectedElement]);const{run:a}=de(()=>{u(o.getFieldsValue())},{wait:500}),u=c=>{const x=P(c.scopeCss);s.selectedElement?s.editElement({id:s.selectedElement.id,type:"style",scopeCss:c.scopeCss,scopeStyle:c.scopeStyle,style:{...c.scopeStyle,...x}}):s.savePageInfo({type:"style",scopeCss:c.scopeCss,scopeStyle:c.scopeStyle,style:{...c.scopeStyle,...x}})},h={labelCol:{span:6},wrapperCol:{span:17}};return e.jsxs(t,{className:D.ui,...h,form:o,layout:"horizontal",labelAlign:"right",onValuesChange:a,children:[e.jsx(m,{children:"自定义样式"}),e.jsx(t.Item,{name:"scopeCss",noStyle:!0,children:e.jsx(W,{language:"css"})}),e.jsx(m,{children:"基础"}),e.jsx(t.Item,{name:["scopeStyle","width"],label:"宽度",children:e.jsx(p,{})}),e.jsx(t.Item,{name:["scopeStyle","height"],label:"高度",children:e.jsx(p,{})}),e.jsx(t.Item,{name:["scopeStyle","margin"],label:"边距",children:e.jsx(E,{placeholder:"边距: 10px"})}),e.jsx(t.Item,{name:["scopeStyle","padding"],label:"填充",children:e.jsx(E,{placeholder:"填充: 10px"})}),e.jsx(t.Item,{name:["scopeStyle","opacity"],label:"透明",children:e.jsx(ie,{min:0,max:1,step:.1})},"opacity"),e.jsx(m,{children:"布局"}),e.jsx(ee,{form:o}),e.jsx(m,{children:"文字"}),e.jsx(t.Item,{name:["scopeStyle","fontSize"],label:"字号",children:e.jsx(p,{placeholder:"eg: 14"})}),e.jsx(t.Item,{name:["scopeStyle","lineHeight"],label:"行高",children:e.jsx(p,{placeholder:"eg: 30"})}),e.jsx(t.Item,{name:["scopeStyle","fontWeight"],label:"字重",children:e.jsx(w,{placeholder:"eg: 400",options:[{value:100,label:"100 Thin"},{value:200,label:"200 Extra Light"},{value:300,label:"300 Light"},{value:400,label:"400 Normal"},{value:500,label:"500 Medium"},{value:600,label:"600 Semi Bold"},{value:700,label:"700 Bold"},{value:800,label:"800 Extra Bold"},{value:900,label:"900 Black Bold"}],suffixIcon:e.jsx(y,{})},"fontWeight")}),e.jsx(t.Item,{name:["scopeStyle","color"],label:"颜色",children:e.jsx(V,{showText:!0,allowClear:!0})}),e.jsx(t.Item,{name:["scopeStyle","textAlign"],label:"对齐",children:e.jsxs(R.Group,{buttonStyle:"solid",optionType:"button",children:[e.jsx(T,{title:"左对齐",children:e.jsx(R,{value:"left",children:e.jsx(xe,{})})}),e.jsx(T,{title:"居中对齐",children:e.jsx(R,{value:"center",children:e.jsx(ue,{})})}),e.jsx(T,{title:"右对齐",children:e.jsx(R,{value:"right",children:e.jsx(pe,{})})})]})}),e.jsx(m,{children:"背景"}),e.jsx(t.Item,{name:["scopeStyle","backgroundColor"],label:"颜色",children:e.jsx(V,{})}),e.jsx(t.Item,{name:["scopeStyle","backgroundImage"],label:"图片",tooltip:"支持渐变色。图片使用时，直接输入远程地址：http(s)://xxx.png",children:e.jsx(Y,{})}),e.jsx(t.Item,{name:["scopeStyle","backgroundSize"],label:"尺寸",tooltip:"默认的时候，可以手动输入尺寸",children:e.jsx(U,{})}),e.jsx(t.Item,{name:["scopeStyle","backgroundRepeat"],label:"平铺",children:e.jsx(w,{options:[{label:"不平铺",value:"no-repeat"},{label:"平铺",value:"repeat"},{label:"水平平铺",value:"repeat-x"},{label:"垂直平铺",value:"repeat-y"}],suffixIcon:e.jsx(y,{})})}),e.jsx(t.Item,{name:["scopeStyle","backgroundPosition"],label:"位置",children:e.jsx(w,{options:[{label:"top",value:"top"},{label:"bottom",value:"bottom"},{label:"left",value:"left"},{label:"right",value:"right"},{label:"center",value:"center"}],suffixIcon:e.jsx(y,{})})}),e.jsx(m,{children:"定位"}),e.jsx(t.Item,{name:["scopeStyle","position"],label:"定位",children:e.jsx(w,{placeholder:"请选择",options:[{label:"static",value:"static"},{label:"relative",value:"relative"},{label:"absolute",value:"absolute"},{label:"fixed",value:"fixed"},{label:"sticky",value:"sticky"}],suffixIcon:e.jsx(y,{})})},"position"),e.jsx(t.Item,{name:["scopeStyle","zIndex"],label:"zIndex",children:e.jsx(re,{placeholder:"层级"})},"zIndex"),!["",void 0,"static"].includes(o.getFieldValue(["scopeStyle","position"]))&&e.jsxs(t.Item,{label:"位置",children:[e.jsxs(A,{gap:3,children:[e.jsx(t.Item,{name:["scopeStyle","top"],noStyle:!0,children:e.jsx(p,{placeholder:"T: 10"})}),e.jsx(t.Item,{name:["scopeStyle","right"],noStyle:!0,children:e.jsx(p,{placeholder:"R: 10"})})]}),e.jsxs(A,{gap:3,style:{marginTop:10},children:[e.jsx(t.Item,{name:["scopeStyle","bottom"],noStyle:!0,children:e.jsx(p,{placeholder:"B: 10"})}),e.jsx(t.Item,{name:["scopeStyle","left"],noStyle:!0,children:e.jsx(p,{placeholder:"L: 10"})})]})]}),e.jsx(t.Item,{name:["scopeStyle","overflow"],label:"溢出",children:e.jsx(w,{placeholder:"请选择",options:[{label:"默认",value:"auto"},{label:"可见",value:"visible"},{label:"超出隐藏",value:"hidden"},{label:"超出滚动",value:"scroll"}],suffixIcon:e.jsx(y,{})})},"overflow"),e.jsx(m,{children:"边框"}),e.jsx(t.Item,{name:["scopeStyle","borderRadius"],label:"圆角",children:e.jsx(p,{placeholder:"eg：5"})}),e.jsx(t.Item,{name:["scopeStyle","border"],label:"边框",children:e.jsx(E,{placeholder:"eg：1px solid #fff"})}),e.jsx(t.Item,{label:"阴影",name:["scopeStyle","boxShadow"],children:e.jsx(se,{})})]})},we=ae(he);export{we as default};

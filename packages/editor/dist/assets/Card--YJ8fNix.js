import{u as R,j as r}from"./index-C6R2FIrg.js";import{g as C}from"./index-BL5g9lPi.js";import{o as E,M as D}from"./Render-B-Sk1Bfc.js";import{u as I}from"./useDrop-DVObales.js";import"./util-CaPtpbjW.js";import"./index-CYu5uZR4.js";import"./useComponentRefs-BjsmN1lJ.js";/* empty css              */import"./isPlainObject-BvWo_M3d.js";import"./useDragDropManager-CiMCOuK6.js";const H=window.antd.Button,l=window.antd.Card,S=window.React.forwardRef,b=window.React.useImperativeHandle,g=window.React.useMemo,B=window.React.useState,N=({id:p,type:m,config:t,elements:s,onClick:o},u)=>{var n,i;const x=R(e=>e.addChildElements),[w,d]=B(!0),[,h]=I({accept:"MENU_ITEM",async drop(e,f){var c;if(f.didDrop())return;const{config:j,events:y,methods:M=[]}=((c=await C(e.type+"Config"))==null?void 0:c.default)||{};x({type:e.type,name:e.name,parentId:p,id:e.id,config:j,events:y,methods:M})},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})});b(u,()=>({show(){d(!0)},hide(){d(!1)}}));const v=()=>{o==null||o()},a=g(()=>t.props.meta,[t.props.meta]);return w&&r.jsxs(l,{style:t.style,...E(t.props,["cover","meta","extra"]),"data-id":p,"data-type":m,cover:t.props.cover?r.jsx("img",{src:t.props.cover}):null,extra:(n=t.props.extra)!=null&&n.text?r.jsx(H,{...t.props.extra,onClick:v,children:(i=t.props.extra)==null?void 0:i.text}):null,ref:h,children:[a.title||a.description?r.jsx(l.Meta,{...a}):null,s!=null&&s.length?r.jsx(D,{elements:s||[]}):r.jsx("div",{className:"slots",style:{lineHeight:"100px"},children:"拖拽组件到这里"})]})},F=S(N);export{F as default};
